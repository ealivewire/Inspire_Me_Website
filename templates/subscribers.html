{% include "header.html" %}

<!-- Page Header-->
<header
  class="masthead"
  style="background-image: url('../static/assets/img/admin_update.png')">

  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <div class="site-heading">
          <h1>Inspire Me!</h1>
          <span class="subheading">Existing Subscribers ({{ subscriber_count }} Listings)</span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="col-lg-8 mx-auto p-4 py-md-5">
  <h2 style="text-align: center;">Listings are sorted by subscriber name.</h2><br>
  <main>
    <h5><form>
         <button style="display: block; margin: auto; background-color:red; color:white; font-weight:bold" type="submit" formaction="{{url_for('add_subscriber')}}"><img src="{{ url_for('static', filename='assets/favicon.ico') }}" width="30rem" height="30rem"> Add New Subscriber</button>
    </form></h5>
    {% if success %}
    <table style="width: 80%; margin-left:auto; margin-right:auto">
      <colgroup>
          <col span="1" style="width: 5%;">
          <col span="1" style="width: 5%;">
          <col span="1" style="width: 0%;">
          <col span="1" style="width: 40%;">
          <col span="1" style="width: 40%;">
      </colgroup>
      <tr>
        <th style="font-size: 1rem;color:brown">Edit</th>
        <th style="font-size: 1rem;color:brown">Delete</th>
        <th style="font-size: 1rem"></th>
        <th style="font-size: 1rem">Name</th>
        <th style="font-size: 1rem">E-mail Address</th>
      </tr>
      {% for subscriber in subscribers %}
          <tr>
            <td style="font-size: 1rem"><a href="{{ url_for('edit_subscriber', subscriber_id=subscriber.id) }}"><img src="{{ url_for('static', filename='assets/edit.ico') }}" title="Edit this subscriber" width="30rem" height="30rem"></a></td>
            <td style="font-size: 1rem"><a href="{{ url_for('delete_subscriber_confirm', subscriber_id=subscriber.id) }}"><img src="{{ url_for('static', filename='assets/delete.ico') }}" title="Delete this subscriber" width="30rem" height="30rem"></a></td>
            <td style="font-size: 0rem">{{ subscriber.id }}</td>
            <td style="font-size: 1rem">{{ subscriber.name }}</td>
            <td style="font-size: 1rem">{{ subscriber.email }}</td>
          </tr>
      {% endfor %}

    </table>
    {% else %}
        <p style="text-align:center">{{error_msg}}</p>
    {% endif %}
    <br>
    <h5><form>
         <button style="display: block; margin: auto; background-color:red; color:white; font-weight:bold" type="submit" formaction="{{url_for('add_subscriber')}}"><img src="{{ url_for('static', filename='assets/favicon.ico') }}" width="30rem" height="30rem"> Add New Subscriber</button>
    </form></h5>
  </main>
  <footer class="pt-5 my-5 text-body-secondary border-top" style="text-align:center">
    <p>{{ recognition_web_template }}</p>
  </footer>
</div>
  <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>


